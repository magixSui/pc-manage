language: node_js # 构建所需的语言环境
node_js:
  - "10"
branches:
  only:
    - master
addons:
  ssh_known_hosts:
    - 118.24.15.224
script:
  - npm run build
before_deploy:
  - openssl aes-256-cbc -K $encrypted_62f3167d5387_key -iv $encrypted_62f3167d5387_iv
    -in deploy_rsa.enc -out deploy_rsa -d
  - chmod 600 deploy_rsa
after_success:
  - rsync -az --delete ./dist/* travis@118.24.15.224:/